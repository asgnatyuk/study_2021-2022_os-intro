---
# Front matter
lang: ru-RU
title: "Лабораторная работа №5"
subtitle: "Анализ файловой системы Linux.Команды для работы с файлами и каталогами"
author: "Гнатюк Анастасия Станиславовна"

# Formatting
toc-title: "Содержание"
toc: true # Table of contents
toc_depth: 2
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: lualatex
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---


# Цель работы

Ознакомление с файловой системой Linux, её структурой, именами и содержанием
каталогов. Приобретение практических навыков по применению команд для работы
с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.


# Теоретическое введение

**<font size="3">Для создания текстового файла можно использовать команду touch.</font>**
<p>Формат команды:
<p>1 touch имя-файла
<p>

**<font size="3">Для просмотра файлов небольшого размера можно использовать команду cat.</font>**
<p>Формат команды:
<p>1 cat имя-файла

<p>

**<font size="3">Для просмотра файлов постранично удобнее использовать команду less.</font>**
<p>Формат команды:
<p>1 less имя-файла

<p>

**<font size="3">Команда head выводит по умолчанию первые 10 строк файла.</font>**
<p>Формат команды:

<p>1 head [-n] имя-файла, где n — количество выводимых строк.

<p>

**<font size="3">Команда tail выводит умолчанию 10 последних строк файла.</font>**
<p>Формат команды:

<p>1 tail [-n] имя-файла, где n — количество выводимых строк.

<p>

**<font size="3">Команда cp используется для копирования файлов и каталогов.</font>**
<p>Формат команды:
<p>1 cp [-опции] исходный_файл целевой_файл

<p>

**<font size="3">Команды mv и mvdir предназначены для перемещения и переименования файлов и каталогов.</font>**
<p>Формат команды mv:
<p>mv [-опции] старый_файл новый_файл

<p>

**<font size="3">Права доступа</font>**

<p>

**<font size="3">Каждый файл или каталог имеет права доступа.</font>**
<p>В сведениях о файле или каталоге указываются:
<p>– тип файла (символ (-) обозначает файл, а символ (d) — каталог);
<p>– права для владельца файла (r — разрешено чтение, w — разрешена запись, x — разрешено выполнение, - — право доступа отсутствует);
<p>– права для членов группы (r — разрешено чтение, w — разрешена запись, x — разрешено выполнение, - — право доступа отсутствует);
<p>– права для всех остальных (r — разрешено чтение, w — разрешена запись, x — разрешено выполнение, - — право доступа отсутствует).

<p>

**<font size="3">Права доступа к файлу или каталогу можно изменить, воспользовавшись командой chmod. Сделать это может владелец файла (или каталога) или пользователь с правами администратора.</font>**
<p>Формат команды:
1 chmod режим имя_файла

<p>

**<font size="3">Файловая система в Linux состоит из фалов и каталогов. Каждому физическому носителю соответствует своя файловая система.</font>**
<p>Существует несколько типов файловых систем. Перечислим наиболее часто встречающиеся типы:
<p>– ext2fs (second extended filesystem);
<p>– ext2fs (third extended file system);
<p>– ext4 (fourth extended file system);
<p>– ReiserFS;
<p>– xfs;
<p>– fat (file allocation table);
<p>– ntfs (new technology file system).

<p>

**<font size="3">Для просмотра используемых в операционной системе файловых систем можно воспользоваться командой mount без параметров.</font>** 



# Задание

<p>

**<font size="4">1. Выполните все примеры, приведённые в первой части описания лабораторной работы.</font>**
<p>

**<font size="4">2. Выполните следующие действия, зафиксировав в отчёте по лабораторной работе используемые при этом команды и результаты их выполнения:</font>**
<p>2.1. Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите его equipment. Если файла io.h нет, то используйте любой другой файл в каталоге /usr/include/sys/ вместо него.
<p>2.2. В домашнем каталоге создайте директорию ~/ski.plases.
<p>2.3. Переместите файл equipment в каталог ~/ski.plases.
<p>2.4. Переименуйте файл ~/ski.plases/equipment в ~/ski.plases/equiplist.
<p>2.5. Создайте в домашнем каталоге файл abc1 и скопируйте его в каталог
~/ski.plases, назовите его equiplist2.
<p>2.6. Создайте каталог с именем equipment в каталоге ~/ski.plases.
<p>2.7. Переместите файлы ~/ski.plases/equiplist и equiplist2 в каталог
~/ski.plases/equipment.
<p>2.8. Создайте и переместите каталог ~/newdir в каталог ~/ski.plases и назовите его plans.
<p>

**<font size="4">3. Определите опции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав нет:</font>**
<p>3.1. drwxr--r-- ... australia
<p>3.2. drwx--x--x ... play
<p>3.3. -r-xr--r-- ... my_os
<p>3.4. -rw-rw-r-- ... feathers
<p>При необходимости создайте нужные файлы.

**<font size="4">4. Проделайте приведённые ниже упражнения, записывая в отчёт по лабораторной работе используемые при этом команды:</font>**
<p>4.1. Просмотрите содержимое файла /etc/password.
<p>4.2. Скопируйте файл ~/feathers в файл ~/file.old.
<p>4.3. Переместите файл ~/file.old в каталог ~/play.
<p>4.4. Скопируйте каталог ~/play в каталог ~/fun.
<p>4.5. Переместите каталог ~/fun в каталог ~/play и назовите его games.
<p>4.6. Лишите владельца файла ~/feathers права на чтение.
<p>4.7. Что произойдёт, если вы попытаетесь просмотреть файл ~/feathers командой cat?
<p>4.8. Что произойдёт, если вы попытаетесь скопировать файл ~/feathers?
<p>4.9. Дайте владельцу файла ~/feathers право на чтение.
<p>4.10. Лишите владельца каталога ~/play права на выполнение.
<p>4.11. Перейдите в каталог ~/play. Что произошло?
<p>4.12. Дайте владельцу каталога ~/play право на выполнение.

**<font size="4">5. Прочитайте man по командам mount, fsck, mkfs, kill и кратко их охарактеризуйте, приведя примеры.</font>**

# Последовательность выполнения работы

**№1** На самом деле, здесь мы просто всё делаем так, как указано в примере. Мне кажется, что и комментировать не нужно.
<p>1)

![Пример №1](screens/1.png)

![](screens/1.1.png)

<p>2)

![Пример №2](screens/2.png)

![](screens/2.1.png)

<p>3)

![Пример №3](screens/3.png)

![](screens/3.1.png)

<p>4)

![Пример №4](screens/4.png)

![](screens/4.1.png)

<p>5)

![Пример №5](screens/5.png)

![](screens/5.1.png)

<p>6)

![Пример №6](screens/6.png)

![](screens/6.1.png)

<p>7)

![Пример №7](screens/7.png)

![](screens/7.1.png)

<p>8)

![Пример №8](screens/8.png)

![](screens/8.1.png)

<p>9)

![Пример №9](screens/9.png)

![](screens/9.1.png)

<p>10)

![Пример №10](screens/10.png)

![](screens/10.1.png)

<p>11)

![Пример №11](screens/11.png)

![](screens/11.1.png)

<p>12)

![Пример №12](screens/12.png)

![](screens/12.1.png)


<p>14)

![Пример №14](screens/14.png)

![](screens/14.1.png)

<p>

**№2**

<p>2.1. Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите его equipment. Если файла io.h нет, то используйте любой другой файл в каталоге /usr/include/sys/ вместо него.

<p>С помощью команды ср копируем данный в задании файл и называем его equipment.

![](screens/15.png)

<p>2.2. В домашнем каталоге создайте директорию ~/ski.plases.

<p>С помощью команды mkdir создаём директорию данную в задании.

![](screens/16.png)

<p>2.3. Переместите файл equipment в каталог ~/ski.plases.

<p>С помощью команды mv перемещаем equipment в ski.places

![](screens/17.png)

<p>2.4. Переименуйте файл ~/ski.plases/equipment в ~/ski.plases/equiplist.

<p>С помощью команды mv переименовываем файл equipment в equiplist.

![](screens/18.png)

<p>2.5. Создайте в домашнем каталоге файл abc1 и скопируйте его в каталог
~/ski.plases, назовите его equiplist2.

<p>С помощью команды touch создаём файл abc1 и с помощью команды сp копируем его в каталоге ski.places и называем его equiplist2.

![](screens/19.png)

<p>2.6. Создайте каталог с именем equipment в каталоге ~/ski.plases.

<p>С помощью команды mkdir создаём в каталоге ski.places каталог equipment.

![](screens/21.png)

<p>2.7. Переместите файлы ~/ski.plases/equiplist и equiplist2 в каталог
~/ski.plases/equipment.

<p>С помощью команды mv перемещаем equiplist и equiolist2 в каталог equipment.

![](screens/22.png)

<p>2.8. Создайте и переместите каталог ~/newdir в каталог ~/ski.plases и назовите его plans.

<p>С помощью команды mkdir создаём каталог newdir и благодаря команде mv перемещаем его в ski.places и называем его plans.

![](screens/23.png)



<p>

**№3**

<p>3.1. drwxr--r-- ... australia

<p>С помощью команды chmod g+x даём возможность юзеру записи в данном файле.

![](screens/24.1.png)

![](screens/24.2.png)


<p>3.2. drwx--x--x ... play

<p>С помощью команды chmod даём юзерю,группе и всем остальным возможность выполнения и лишаем группу и остальных возможности чтения и записи. 

![](screens/24.1.png)

![](screens/25.png)

<p>3.3. -r-xr--r-- ... my_os

<p>С помощью команды chmod даём юзеру возможность выполнения, группе - возможность чтения и также лишаем юзера возможности записи, группу - возможностям записи и выполения.

![](screens/26.1.png)

![](screens/26.2.png)

<p>3.4. -rw-rw-r-- ... feathers

<p>С помощью команды ls -l мы видим, что ничего менять не надо.

![](screens/27.png)

<p>

**№4**

<p>4.1. Просмотрите содержимое файла /etc/password.

<p>С помощью команды cat просматриваем содержимое данного файла.(у меня был не password, а passwd)

![](screens/28.png)

![](screens/29.png)

<p>4.2. Скопируйте файл ~/feathers в файл ~/file.old.

<p>С помощью команды cp копируем файл.

![](screens/30.png)

<p>4.3. Переместите файл ~/file.old в каталог ~/play.

<p>С помощью команды mv перемещаем файл.

![](screens/31.png)

<p>4.4. Скопируйте каталог ~/play в каталог ~/fun.

<p>С помощью команды cp -r копируем каталог. 

![](screens/32.png)

<p>4.5. Переместите каталог ~/fun в каталог ~/play и назовите его games.

<p>С помощью команды mv перемещаем каталог.

![](screens/33.png)

<p>4.6. Лишите владельца файла ~/feathers права на чтение.

<p>С помощью команды chmod u-r лишаем владельца права на чтение.

![](screens/34.png)

<p>4.7. Что произойдёт, если вы попытаетесь просмотреть файл ~/feathers командой cat?

<p>Будет отказано в доступе :(

![](screens/34.1.png)

<p>4.8. Что произойдёт, если вы попытаетесь скопировать файл ~/feathers?

<p>Он мне откажет.

![](screens/38.png)

<p>4.9. Дайте владельцу файла ~/feathers право на чтение.

<p>С помощью команды chmod u+r возвращаем право на чтение владельцу.

![](screens/35.png)

<p>4.10. Лишите владельца каталога ~/play права на выполнение.

<p>С помощью команды chmod u-x лишаем владельца права на выполнение.

![](screens/36.png)

<p>4.11. Перейдите в каталог ~/play. Что произошло?

<p>С помощью команды cd переходим в данный каталог - отказано в доступе.

![](screens/36.1.png)

<p>4.12. Дайте владельцу каталога ~/play право на выполнение.

<p>С помощью команды chmod u+x возвращаем владельцу право на выполнение.

![](screens/37.png)

<p>

**№5**

<p>С помощью команды man изучаем всю информацию про команды mount,kill и fsck.

![](screens/39.png)


# Вывод

Я ознакомилась с файловой системой Linux, её структурой, именами и содержанием каталогов и приобрела практические навыки по применению команд для работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.

# Контрольные вопросы

<p>

**1. Дайте характеристику каждой файловой системе, существующей на жёстком диске компьютера, на котором вы выполняли лабораторную работу.**

<p>Операционная система Windows 8, Windows 8.1 поддерживает несколько файловых систем: NTFS, FAT и FAT32. Но работать может только на NTFS, то есть установлена может быть только на раздел жесткого дис­ка, отформатированного в данной файловой системе.

<p>Обусловлено это теми особенностями и инструментами безопасности, которые преду­смотрены в NTFS, но отсутствуют в файловых системах Windows предыдущего поколения: FAT16 и FAT32.

<p>Файловая система FAT (обычно под ней понимается FAT 16) была разработана достаточно давно и предназначалась для работы с небольшими дисковыми и файловыми объемами, простой структурой каталогов. Аббревиатура FAT расшифровывается как File Allocation Table (с англ. таблица размещения файлов). Эта таблица размещается в начале тома, причем хранятся две ее копии (в целях обеспечения большей устойчивости).

<p>В FAT32 реализовано более эффективное расходование дискового пространства (путем использования более мелких кластеров). Выгода по сравнению с FAT16 составляет порядка 10.15%. То есть при использовании FAT32 на один и тот же диск может быть записано информации на 10. 15% больше, чем при использовании FAT16.

<p>NTFS — от англ. New Technology File System, файловая система новой технологии. Как уже упоминалось, основным ее достоинством является защищен­ность: для файлов и папок NTFS могут быть назначены права доступа (на чтение, на запись и т.д.). Благодаря этому существенно повысилась безопасность данных и устойчивость работы системы.


<p>

**2. Приведите общую структуру файловой системы и дайте характеристику каждой директории первого уровня этой структуры.**

<p>/ — root каталог. Содержит в себе всю иерархию системы;

<p>/bin — здесь находятся двоичные исполняемые файлы. Основные общие команды, хранящиеся отдельно от других программ в системе (прим.: pwd, ls, cat, ps);

<p>/boot — тут расположены файлы, используемые для загрузки системы (образ initrd, ядро vmlinuz);

<p>/dev — в данной директории располагаются файлы устройств (драйверов). С помощью этих файлов можно взаимодействовать с устройствами. К примеру, если это жесткий диск, можно подключить его к файловой системе. В файл принтера же можно написать напрямую и отправить задание на печать;

<p>/etc — в этой директории находятся файлы конфигураций программ. Эти файлы позволяют настраивать системы, сервисы, скрипты системных демонов;

<p>/home — каталог, аналогичный каталогу Users в Windows. Содержит домашние каталоги учетных записей пользователей (кроме root). При создании нового пользователя здесь создается одноименный каталог с аналогичным именем и хранит личные файлы этого пользователя;

<p>/lib — содержит системные библиотеки, с которыми работают программы и модули ядра;

<p>/lost+found — содержит файлы, восстановленные после сбоя работы системы. Система проведет проверку после сбоя и найденные файлы можно будет посмотреть в данном каталоге;

<p>/media — точка монтирования внешних носителей. Например, когда вы вставляете диск в дисковод, он будет автоматически смонтирован в директорию /media/cdrom;

<p>/mnt — точка временного монтирования. Файловые системы подключаемых устройств обычно монтируются в этот каталог для временного использования;

<p>/opt — тут расположены дополнительные (необязательные) приложения. Такие программы обычно не подчиняются принятой иерархии и хранят свои файлы в одном подкаталоге (бинарные, библиотеки, конфигурации);

<p>/proc — содержит файлы, хранящие информацию о запущенных процессах и о состоянии ядра ОС;

<p>/root — директория, которая содержит файлы и личные настройки суперпользователя;

<p>/run — содержит файлы состояния приложений. Например, PID-файлы или UNIX-сокеты;

<p>/sbin — аналогично /bin содержит бинарные файлы. Утилиты нужны для настройки и администрирования системы суперпользователем;

<p>/srv — содержит файлы сервисов, предоставляемых сервером (прим. FTP или Apache HTTP);

<p>/sys — содержит данные непосредственно о системе. Тут можно узнать информацию о ядре, драйверах и устройствах;

<p>/tmp — содержит временные файлы. Данные файлы доступны всем пользователям на чтение и запись. Стоит отметить, что данный каталог очищается при перезагрузке;

<p>/usr — содержит пользовательские приложения и утилиты второго уровня, используемые пользователями, а не системой. Содержимое доступно только для чтения (кроме root). Каталог имеет вторичную иерархию и похож на корневой;

<p>/var — содержит переменные файлы. Имеет подкаталоги, отвечающие за отдельные переменные. Например, логи будут храниться в /var/log, кэш в /var/cache, очереди заданий в /var/spool/ и так далее.

<p>

**3. Какая операция должна быть выполнена, чтобы содержимое некоторой файловой системы было доступно операционной системе?**

<p>Монтирование тома.

<p>

**4. Назовите основные причины нарушения целостности файловой системы. Как устранить повреждения файловой системы?**

<p>1. Один блок адресуется несколькими mode (принадлежит нескольким файлам).

<p>2. Блок помечен как свободный, но в то же время занят (на него ссылается onode).

<p>3. Блок помечен как занятый, но в то же время свободен (ни один inode на него не ссылается).

<p>4. Неправильное число ссылок в inode (недостаток или избыток ссылающихся записей в каталогах).

<p>5. Несовпадение между размером файла и суммарным размером адресуемых inode блоков.

<p>6. Недопустимые адресуемые блоки (например, расположенные за пределами файловой системы).

<p>7. "Потерянные" файлы (правильные inode, на которые не ссылаются записи каталогов).

<p>8. Недопустимые или неразмещенные номера inode в записях каталогов.

<p>

**5. Как создаётся файловая система?**

<p>mkfs - позволяет создать файловую систему Linux.

<p>

**6. Дайте характеристику командам для просмотра текстовых файлов.**

<p>Cat - выводит содержимое файла на стандартное устройство вывода

<p>

**7. Приведите основные возможности команды cp в Linux.**

<p>Cp – копирует или перемещает директорию, файлы.

<p>

**8. Приведите основные возможности команды mv в Linux.**

<p>Mv - переименовать или переместить файл или директорию

<p>

**9. Что такое права доступа? Как они могут быть изменены?**

<p>Права доступа к файлу или каталогу можно изменить, воспользовавшись командой chmod. Сделать это может владелец файла (или каталога) или пользователь с правами администратора.